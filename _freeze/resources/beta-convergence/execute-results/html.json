{
  "hash": "dfab7f125d4ce3cb1f4c6cf708266106",
  "result": {
    "markdown": "---\ntitle: \"Beta-convergence\"\nformat: html\nexecute: \n  eval: false\n  echo: true\n---\n\n\nIn your lectures you have seen that within a country, the poorer regions tend to grow faster than the richer regions. This is known as beta-convergence, or sometimes the \"catch-up effect\".\n\n![From lecture 3, beta convergence is shown on the right hand side](beta-convergence-resources/slides.png)\n\nIn this exercise, we will look at the data and see if we can find evidence of beta-convergence Germany since 1950. (Technically, we are looking at unconditional beta-convergence, as distinct from conditional beta-convergence, which holds the investment rate and the population growth rate constant).\n\nYou can download the do-file for this exercise [here](beta-convergence-resources/beta-convergence.do).\n\n## Setup\n\nFirst we need to set our working directory and load the data we will be using. We will use the Roses and Wolf dataset that you have used in the previous labs and exercises.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclear all\nset more off\n\n# Set your own directory here\ncd \"/Users/jonathanjayes/Downloads/Lab-1/\"\n\n# Read in the data\nuse regional_dataset, clear\n```\n:::\n\n\n## Calculating growth rates\n\nWe will start by calculating the growth rates of the GDP per capita (in levels) for each region in Germany for each time period in our dataset.\n\nThere are a few ways to calculate growth rates. I choose to show two: the method suggested in Roses and Wolf (2018) - the average growth rate method - and the compound annual growth rate (CAGR) method.\n\nIn Chapter 2: *Regional Economic Development in Europe, 1900-2010, A description of the patterns* your textbook reads: \"The general approach is to regress the average annual growth rate in GDP per capita of a region over some period on the level of GDP per capita at the beginning of the period (in logs)\" (p. 22).\n\nWe do this by taking the variable GDP per capita in 1990 dollars and then calculating the growth rate by taking the difference between GDP per capita in year t and GDP per capita in year t-1, dividing by GDP per capita in year t-1, and then multiplying by the difference in years to get an annual growth rate in each period.\n\nWe will then calculate the average growth rate by taking the mean of the growth rates for each region.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Step 1: generate log GDP per capita variable for use later\ngen log_gdp_pc = log(regional_gdp_cap_1990)\n \nkeep if country == \"Germany\"\n\n# Step 2: calculate the growth in GDP per capita from 1950 onwards\nkeep if year >= 1950\n\n# xtset tells Stata we will do time series operations\nxtset _ID year\n\n# Generate the growth rate by taking the difference between GDP per capita in year t and GDP per capita in year t-1, dividing by GDP per capita in year t-1, and then multiplying by the difference in years to get an annual growth rate in each period.\nbysort _ID (year): gen growth_regional_gdp_cap_1990 = (regional_gdp_cap_1990[_n]-regional_gdp_cap_1990[_n-1]) / (regional_gdp_cap_1990[_n-1] * (year - year[_n-1]))\n\n# Take the mean of the growth rates for each region\nbysort _ID: egen mean_growth_rate = mean(growth_regional_gdp_cap_1990)\n\n# Step 3: save the GDP per capita from 1950\nkeep if year == 1950\n```\n:::\n\n\n\n## Beta-convergence plot\n\nHere we draw a scatterplot with the mean growth rate on the y-axis and the initial GDP per capita (logged) on the x-axis. We also add a linear regression line to the graph.\n\nWe use the `twoway` command to draw the graph. The `scatter` option tells Stata to draw a scatter plot, and the `lfit` option tells Stata to draw a linear regression line. We also add a title and subtitle to the graph, and label the axes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Then draw the graph with a scatter plot and a linear regression line.\ntwoway (scatter mean_growth_rate log_gdp_pc) ///\n (lfit mean_growth_rate log_gdp_pc, legend(label(1 \"NUTS2 Regions\") label(2 \"Linear regression line\"))) ///\n, title(\"Beta-convergence plot\") subtitle(\"Germany 1950 - 2015\") ytitle(\"Average growth rate since 1950\") ///\nxtitle(\"Initial GDP per capita (logged)\")\n```\n:::\n\n\n![](beta-convergence-resources/beta-convergence-no-labels.jpg)\n\n## Beta-convergence graph with labels\n\nWe can also add labels to the points in the graph. We do this by adding the `mlabel` option to the `scatter` command. This can help us identify which regions of interest are which.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngen region_labels = region if region == \"Berlin\" | region == \"Schleswig-Holstein\" | region == \"Hamburg\"\n\n# Then draw the graph with two lines through out scatter points. Label the points\ntwoway (scatter mean_growth_rate log_gdp_pc, mlabel(region_labels)) ///\n (lfit mean_growth_rate log_gdp_pc, legend(label(1 \"NUTS2 Regions\") label(2 \"Linear regression line\"))) ///\n, title(\"Beta-convergence plot\") subtitle(\"Germany 1950 - 2015\") ytitle(\"Average growth rate since 1950\") ///\nxtitle(\"Initial GDP per capita (logged)\")\n```\n:::\n\n\n![](beta-convergence-resources/beta-convergence-labels.jpg)\n\n## Compound annual growth rate method\n\nWe can also calculate the growth rates using the compound annual growth rate (CAGR) method. This is a common method for calculating growth rates. \n\nThe formula for the compound annual growth rate is:\n\n$$CAGR = \\left(\\frac{V_f}{V_i}\\right)^{\\frac{1}{n}} - 1$$\n\nWhere $V_f$ is the final value, $V_i$ is the initial value, and $n$ is the number of periods.\n\nHere we calculate the CAGR for each region in Germany:\n\nWe start by keeping only the data for Germany and the years 1950 and 2015. We then reshape the data to make it wide. This creates two new variables, `log_gdp_pc1950` and `log_gdp_pc2015`, which we use to calculate the CAGR for each region. We then calculate the CAGR for each region and scale it to percentage for a more sensible y-axis in the plot below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Read in the data\nuse regional_dataset, clear\n\n\n# Step 1: generate log GDP per capita variable\ngen log_gdp_pc = log(regional_gdp_cap_1990)\n \n# Step 2: calculate the growth in GDP per capita from 1950 onwards\nkeep if country == \"Germany\"\n\nkeep if year == 1950 | year == 2015\n\nkeep region year log_gdp_pc _ID\n\n# Make data wide so that we can \nreshape wide log_gdp_pc, i(_ID) j(year)\n\ngenerate cagr = (exp(log(log_gdp_pc2015/log_gdp_pc1950)/65)) - 1\n\n# Step 3: scale to percentage for a more sensible y-axis in plot below\nreplace cagr = cagr * 100\n```\n:::\n\n\n## Beta-convergence plot with CAGR\n\nWe can now draw a scatterplot with the CAGR on the y-axis and the initial GDP per capita (logged) on the x-axis. We also add a linear regression line to the graph.\n\n![](beta-convergence-resources/beta-convergence-cagr-no-labels.jpg)\n\nAgain we can add labels to the points in the graph. We do this by adding the `mlabel` option to the `scatter` command. This can help us identify which regions of interest are which.\n\n![](beta-convergence-resources/beta-convergence-cagr-labels.jpg)\n\n## Which method to use to calculate growth rates?\n\nThe two methods give us slightly different results, but the overall pattern is the same. The CAGR method is more commonly used, but the average growth rate method is also valid. The CAGR method is more sensitive to the start and end years, so it is important to choose the start and end years carefully.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}